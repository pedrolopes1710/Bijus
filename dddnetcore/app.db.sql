BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "Carrinhos" (
	"Id"	TEXT NOT NULL,
	"ClienteId"	TEXT NOT NULL,
	"DataCriacao"	TEXT NOT NULL,
	"DataAtualizacao"	TEXT NOT NULL,
	CONSTRAINT "PK_Carrinhos" PRIMARY KEY("Id"),
	CONSTRAINT "FK_Carrinhos_Clientes_ClienteId" FOREIGN KEY("ClienteId") REFERENCES "Clientes"("Id") ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS "Categorias" (
	"Id"	TEXT NOT NULL,
	"NomeCategoria"	TEXT NOT NULL,
	CONSTRAINT "PK_Categorias" PRIMARY KEY("Id")
);
CREATE TABLE IF NOT EXISTS "Clientes" (
	"Id"	TEXT NOT NULL,
	"EmailCliente"	TEXT NOT NULL,
	"MoradaCliente"	TEXT NOT NULL,
	"NomeCliente"	TEXT NOT NULL,
	CONSTRAINT "PK_Clientes" PRIMARY KEY("Id")
);
CREATE TABLE IF NOT EXISTS "Colecoes" (
	"Id"	TEXT NOT NULL,
	"NomeColecao"	TEXT NOT NULL,
	"DescricaoColecao"	TEXT NOT NULL,
	"DataAtualizacaoColecao"	TEXT NOT NULL,
	"DataCriacaoColecao"	TEXT NOT NULL,
	"EstadoColecao"	INTEGER NOT NULL,
	CONSTRAINT "PK_Colecoes" PRIMARY KEY("Id")
);
CREATE TABLE IF NOT EXISTS "FotoColecoes" (
	"Id"	TEXT NOT NULL,
	"UrlColecao"	TEXT NOT NULL,
	"ColecaoId"	TEXT NOT NULL,
	"ColecaoId1"	TEXT,
	CONSTRAINT "PK_FotoColecoes" PRIMARY KEY("Id"),
	CONSTRAINT "FK_FotoColecoes_Colecoes_ColecaoId" FOREIGN KEY("ColecaoId") REFERENCES "Colecoes"("Id") ON DELETE CASCADE,
	CONSTRAINT "FK_FotoColecoes_Colecoes_ColecaoId1" FOREIGN KEY("ColecaoId1") REFERENCES "Colecoes"("Id")
);
CREATE TABLE IF NOT EXISTS "FotoProdutos" (
	"Id"	TEXT NOT NULL,
	"ProdutoId"	TEXT NOT NULL,
	"UrlProduto"	TEXT NOT NULL,
	CONSTRAINT "PK_FotoProdutos" PRIMARY KEY("Id"),
	CONSTRAINT "FK_FotoProdutos_Produtos_ProdutoId" FOREIGN KEY("ProdutoId") REFERENCES "Produtos"("Id") ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS "ItensCarrinho" (
	"Id"	TEXT NOT NULL,
	"ProdutoId"	TEXT NOT NULL,
	"Quantidade"	INTEGER NOT NULL,
	"CarrinhoId"	TEXT,
	CONSTRAINT "PK_ItensCarrinho" PRIMARY KEY("Id"),
	CONSTRAINT "FK_ItensCarrinho_Carrinhos_CarrinhoId" FOREIGN KEY("CarrinhoId") REFERENCES "Carrinhos"("Id"),
	CONSTRAINT "FK_ItensCarrinho_Produtos_ProdutoId" FOREIGN KEY("ProdutoId") REFERENCES "Produtos"("Id") ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS "Produtos" (
	"Id"	TEXT NOT NULL,
	"CategoriaId"	TEXT NOT NULL,
	"ColecaoId"	TEXT,
	"DescricaoProduto"	TEXT NOT NULL,
	"NomeProduto"	TEXT NOT NULL,
	"PrecoProduto"	REAL NOT NULL,
	"StockProduto"	INTEGER NOT NULL,
	CONSTRAINT "PK_Produtos" PRIMARY KEY("Id"),
	CONSTRAINT "FK_Produtos_Categorias_CategoriaId" FOREIGN KEY("CategoriaId") REFERENCES "Categorias"("Id") ON DELETE CASCADE,
	CONSTRAINT "FK_Produtos_Colecoes_ColecaoId" FOREIGN KEY("ColecaoId") REFERENCES "Colecoes"("Id")
);
CREATE TABLE IF NOT EXISTS "Users" (
	"Id"	TEXT NOT NULL,
	"UserName"	TEXT NOT NULL,
	"PasswordHash"	TEXT NOT NULL,
	"ClienteId"	TEXT NOT NULL,
	CONSTRAINT "PK_Users" PRIMARY KEY("Id"),
	CONSTRAINT "FK_Users_Clientes_ClienteId" FOREIGN KEY("ClienteId") REFERENCES "Clientes"("Id") ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS "VendaProdutos" (
	"Id"	TEXT NOT NULL,
	"VendaId"	TEXT NOT NULL,
	"ProdutoId"	TEXT NOT NULL,
	"Quantidade"	INTEGER NOT NULL,
	"PrecoUnitario"	TEXT NOT NULL,
	CONSTRAINT "PK_VendaProdutos" PRIMARY KEY("Id"),
	CONSTRAINT "FK_VendaProdutos_Produtos_ProdutoId" FOREIGN KEY("ProdutoId") REFERENCES "Produtos"("Id") ON DELETE CASCADE,
	CONSTRAINT "FK_VendaProdutos_Vendas_VendaId" FOREIGN KEY("VendaId") REFERENCES "Vendas"("Id") ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS "Vendas" (
	"Id"	TEXT NOT NULL,
	"VendaData"	TEXT NOT NULL,
	"VendaEstado"	TEXT NOT NULL,
	"VendaTotal"	REAL NOT NULL,
	"ClienteId"	TEXT NOT NULL,
	CONSTRAINT "PK_Vendas" PRIMARY KEY("Id"),
	CONSTRAINT "FK_Vendas_Clientes_ClienteId" FOREIGN KEY("ClienteId") REFERENCES "Clientes"("Id") ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
	"MigrationId"	TEXT NOT NULL,
	"ProductVersion"	TEXT NOT NULL,
	CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY("MigrationId")
);
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
	"Id"	INTEGER NOT NULL,
	"Timestamp"	TEXT NOT NULL,
	CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY("Id")
);
INSERT INTO "Categorias" VALUES ('1A9E213C-757B-453F-9F74-83CC98529FE4','Bonecos pequenos');
INSERT INTO "Categorias" VALUES ('5F3D3C38-84E5-4675-9000-20BDA4A27F6B','Bonecos grandes');
INSERT INTO "Categorias" VALUES ('65920A75-35EA-4E34-A74F-B12F89909EB1','Bonecos miniatura');
INSERT INTO "Clientes" VALUES ('B9AFC460-957A-459D-9688-1E69BA331BCD','joao@email.com','Rua Exemplo 123','João Silva');
INSERT INTO "Clientes" VALUES ('205966CE-3B9B-4A25-A553-D8ADC3B68AB7','p_nunolopes@hotmail.com','Rua de mosqueiros','Pedro Lopes');
INSERT INTO "Clientes" VALUES ('8762075D-A3E7-4A95-B966-A4AB5CFB1F05','aksn@kasjd.com','alskd','ashj');
INSERT INTO "Clientes" VALUES ('8499DA8B-E48E-4E40-AD3C-5E545D7255D6','aksn@kasjd.com','alskd','ashj');
INSERT INTO "Clientes" VALUES ('226F35AE-C942-4767-88AD-359D466E2204','a@email.com','askjd','aksjd');
INSERT INTO "Clientes" VALUES ('D218E8B9-2467-4881-87AD-E3FE2239C847','a@a.com','sdkjc','askdn');
INSERT INTO "Clientes" VALUES ('3CC135AD-0A6F-456E-824A-F78ECD729C5B','a@a.com','aslkjd','sdk');
INSERT INTO "Colecoes" VALUES ('5D17ABB4-94CA-4907-A1CF-52F3937E31E2','exemplo','descricao','2025-01-01 00:00:00','2025-01-01 00:00:00',0);
INSERT INTO "Colecoes" VALUES ('3F70A67A-2F77-422E-9C86-A8DD0A636FAF','exemplo','descricao','2025-01-01 00:00:00','2025-01-01 00:00:00',0);
INSERT INTO "Colecoes" VALUES ('AF9948C9-E399-46A4-A094-7488829394AB','exemplo 2','descricao 2','2025-01-01 00:00:00','2025-01-01 00:00:00',0);
INSERT INTO "Colecoes" VALUES ('2818112E-33DF-4586-8D92-D30CB67A48BB','exemplo 2','descricao 2','2025-01-01 00:00:00','2025-01-01 00:00:00',0);
INSERT INTO "Colecoes" VALUES ('CE481C98-849C-467B-82A9-F653128B41F3','exemplo 5','descricao 5','2025-01-02 00:00:00','2025-01-02 00:00:00',0);
INSERT INTO "Colecoes" VALUES ('CCA377B8-11C2-418F-9815-E1701D808004','Coleção Natal ','descricao 5','2025-12-01 00:00:00','2025-12-01 00:00:00',0);
INSERT INTO "FotoColecoes" VALUES ('63DD24B0-EA70-4191-9F03-C2259FD29245','/uploads/colecoes/bd2c0805-eac1-4f33-93b0-b905dc325d6c.jpg','5D17ABB4-94CA-4907-A1CF-52F3937E31E2',NULL);
INSERT INTO "FotoColecoes" VALUES ('AF1832DF-C03B-42DC-AE1A-59CE4D173AA6','/uploads/colecoes/367ee303-b091-4383-9717-c1eeb0cdb7e9.jpg','3F70A67A-2F77-422E-9C86-A8DD0A636FAF',NULL);
INSERT INTO "FotoColecoes" VALUES ('87A1F7F8-740D-4465-8EB0-64A18ED3EDAE','/uploads/colecoes/97e01afc-4595-465b-97e8-908cf8a5b7fd.jpg','AF9948C9-E399-46A4-A094-7488829394AB',NULL);
INSERT INTO "FotoColecoes" VALUES ('234E1855-0B0F-46B9-B07C-470184643D6F','/uploads/colecoes/3dba179e-4148-4dd7-a8a9-b9077fbbcc0d.jpg','2818112E-33DF-4586-8D92-D30CB67A48BB',NULL);
INSERT INTO "FotoColecoes" VALUES ('1B558ADD-DFAA-4F56-B15A-38780092FC12','/uploads/colecoes/521f0b1b-03dd-4a30-a46b-046d3e52c825.jpg','CE481C98-849C-467B-82A9-F653128B41F3',NULL);
INSERT INTO "FotoColecoes" VALUES ('2956844D-2E96-46F0-9C7D-DFEEBBC87CCA','/uploads/colecoes/8f1b1c7e-4606-410b-8131-11488bdc22b6.jpg','CE481C98-849C-467B-82A9-F653128B41F3',NULL);
INSERT INTO "FotoColecoes" VALUES ('51B1D02B-02B5-4866-BBF6-930AB9B44761','/uploads/colecoes/c328f056-8a6f-446c-8967-476ed4887e56.jpg','CCA377B8-11C2-418F-9815-E1701D808004',NULL);
INSERT INTO "FotoColecoes" VALUES ('D66080A4-3C94-4AFF-8160-774795E25BCB','/uploads/colecoes/17bfdea0-9118-41bf-8d32-d84c0c3a8dd7.jpg','CCA377B8-11C2-418F-9815-E1701D808004',NULL);
INSERT INTO "FotoProdutos" VALUES ('C2985133-6BCC-4710-BB22-94E57507A089','93B092E5-773A-4BE2-9DB8-543DA8D950B3','/uploads/produtos/817e3d0d-0a06-4c17-aba4-28642e7182c9.jpg');
INSERT INTO "FotoProdutos" VALUES ('E78F2679-DA23-4E17-9AFA-3B167D37E428','93B092E5-773A-4BE2-9DB8-543DA8D950B3','/uploads/produtos/9e6003a0-335c-4055-bc79-e9a1355bb8f5.jpg');
INSERT INTO "FotoProdutos" VALUES ('0587B4BE-D18F-4BE3-9A2B-2D2A82B86D4B','7B010FCB-4E8B-4B90-A24E-780E10BF0F91','/uploads/produtos/ce1ff1aa-d82f-4d32-a5d6-9b55d93fcbf0.jpg');
INSERT INTO "FotoProdutos" VALUES ('44C68679-F1A6-4E57-B471-3374FEDB727E','929A94C8-37DE-4209-AF2A-CDE3983B7AD7','/uploads/produtos/43a5c739-c919-4161-bce8-d7652f04e7f0.jpg');
INSERT INTO "FotoProdutos" VALUES ('208581DB-A67F-4E19-B263-53783D10DC51','A9A8C62D-EC75-48C8-8E0F-0F2405B4EEC4','/uploads/produtos/dbeaf574-2b13-4a61-a44d-a64e189e2303.jpg');
INSERT INTO "FotoProdutos" VALUES ('2FA890D7-4163-4CAD-95A5-F355CEE5D656','4AEDBB6E-0C2C-4D88-8279-2A06644A6789','/uploads/produtos/70eda05a-b11b-4a9b-af67-6d84c82d3171.jpg');
INSERT INTO "FotoProdutos" VALUES ('D2BF301D-97A5-462B-88E2-DC620061D0B6','4AEDBB6E-0C2C-4D88-8279-2A06644A6789','/uploads/produtos/7566d169-f805-4d34-92f2-97cf5d422259.jpg');
INSERT INTO "FotoProdutos" VALUES ('02F5E9B6-06BB-4314-85DA-66E762F343D2','78A39760-2450-46F5-90FD-9E3C26191ADE','/uploads/produtos/facb8168-a45f-4474-9904-1128fa11cd86.jpg');
INSERT INTO "FotoProdutos" VALUES ('157C9D54-A9A0-426E-87F5-1BE8C24B440E','78A39760-2450-46F5-90FD-9E3C26191ADE','/uploads/produtos/b804a353-49ba-431e-8263-927432215a9e.jpg');
INSERT INTO "Produtos" VALUES ('93B092E5-773A-4BE2-9DB8-543DA8D950B3','5F3D3C38-84E5-4675-9000-20BDA4A27F6B','CCA377B8-11C2-418F-9815-E1701D808004','exemplo','Exemplo boneco grande',20.0,2);
INSERT INTO "Produtos" VALUES ('7B010FCB-4E8B-4B90-A24E-780E10BF0F91','1A9E213C-757B-453F-9F74-83CC98529FE4','CE481C98-849C-467B-82A9-F653128B41F3','exemplo','Exemplo boneco pequeno',20.0,2);
INSERT INTO "Produtos" VALUES ('929A94C8-37DE-4209-AF2A-CDE3983B7AD7','65920A75-35EA-4E34-A74F-B12F89909EB1','CCA377B8-11C2-418F-9815-E1701D808004','exemplo','Exemplo boneco miniatura',20.0,2);
INSERT INTO "Produtos" VALUES ('A9A8C62D-EC75-48C8-8E0F-0F2405B4EEC4','65920A75-35EA-4E34-A74F-B12F89909EB1','CCA377B8-11C2-418F-9815-E1701D808004','exemplo','Exemplo boneco miniatura 2 ',20.0,2);
INSERT INTO "Produtos" VALUES ('4AEDBB6E-0C2C-4D88-8279-2A06644A6789','65920A75-35EA-4E34-A74F-B12F89909EB1','CE481C98-849C-467B-82A9-F653128B41F3','exemplo','Exemplo boneco miniatura 3',20.0,2);
INSERT INTO "Produtos" VALUES ('78A39760-2450-46F5-90FD-9E3C26191ADE','65920A75-35EA-4E34-A74F-B12F89909EB1','CCA377B8-11C2-418F-9815-E1701D808004','exemplo','Exemplo boneco miniatura 3',20.0,2);
INSERT INTO "Users" VALUES ('1013E639-A8F7-45AF-89DA-490E38F176D4','joao_silva','$2a$11$uLNuoAuRt1QBtjbr5g7yIeWJo0gLoje5NBUbSYgZ4uWj5ovlpK/da','B9AFC460-957A-459D-9688-1E69BA331BCD');
INSERT INTO "Users" VALUES ('F16E0634-962D-4FEA-B683-0D54D8BBE68E','alskjd','$2a$11$WzKY9ayOTcdpNLnl/MNRqevKfxd6EznDeqK3VbZT37wRK061/FR3G','3CC135AD-0A6F-456E-824A-F78ECD729C5B');
INSERT INTO "__EFMigrationsHistory" VALUES ('20250918140541_Start','9.0.3');
INSERT INTO "__EFMigrationsHistory" VALUES ('20250922133517_Add_FotoProduto','9.0.3');
INSERT INTO "__EFMigrationsHistory" VALUES ('20251001171541_Add_Clientes','9.0.3');
INSERT INTO "__EFMigrationsHistory" VALUES ('20251001211911_Add_Vendas','9.0.3');
INSERT INTO "__EFMigrationsHistory" VALUES ('20251105142426_AddVendaProdutos','9.0.3');
INSERT INTO "__EFMigrationsHistory" VALUES ('20251111230659_UpdateCarrinho','9.0.3');
INSERT INTO "__EFMigrationsHistory" VALUES ('20251115003909_UsersAdd','9.0.3');
INSERT INTO "__EFMigrationsHistory" VALUES ('20251117152538_PasswordHash','9.0.3');
INSERT INTO "__EFMigrationsHistory" VALUES ('20251117155542_Initial','9.0.3');
INSERT INTO "__EFMigrationsHistory" VALUES ('20251117171052_ini','9.0.3');
INSERT INTO "__EFMigrationsHistory" VALUES ('20251229184213_FotoProduto','9.0.3');
INSERT INTO "__EFMigrationsHistory" VALUES ('20251229220231_CascadeProduto_Foto','9.0.3');
INSERT INTO "__EFMigrationsHistory" VALUES ('20251230231351_ColecaoProduto','9.0.3');
INSERT INTO "__EFMigrationsHistory" VALUES ('20251230231529_ColecaoProdutoUpdate','9.0.3');
CREATE INDEX IF NOT EXISTS "IX_Carrinhos_ClienteId" ON "Carrinhos" (
	"ClienteId"
);
CREATE INDEX IF NOT EXISTS "IX_FotoColecoes_ColecaoId" ON "FotoColecoes" (
	"ColecaoId"
);
CREATE INDEX IF NOT EXISTS "IX_FotoColecoes_ColecaoId1" ON "FotoColecoes" (
	"ColecaoId1"
);
CREATE INDEX IF NOT EXISTS "IX_FotoProdutos_ProdutoId" ON "FotoProdutos" (
	"ProdutoId"
);
CREATE INDEX IF NOT EXISTS "IX_ItensCarrinho_CarrinhoId" ON "ItensCarrinho" (
	"CarrinhoId"
);
CREATE INDEX IF NOT EXISTS "IX_ItensCarrinho_ProdutoId" ON "ItensCarrinho" (
	"ProdutoId"
);
CREATE INDEX IF NOT EXISTS "IX_Produtos_CategoriaId" ON "Produtos" (
	"CategoriaId"
);
CREATE INDEX IF NOT EXISTS "IX_Produtos_ColecaoId" ON "Produtos" (
	"ColecaoId"
);
CREATE INDEX IF NOT EXISTS "IX_Users_ClienteId" ON "Users" (
	"ClienteId"
);
CREATE INDEX IF NOT EXISTS "IX_VendaProdutos_ProdutoId" ON "VendaProdutos" (
	"ProdutoId"
);
CREATE INDEX IF NOT EXISTS "IX_VendaProdutos_VendaId" ON "VendaProdutos" (
	"VendaId"
);
CREATE INDEX IF NOT EXISTS "IX_Vendas_ClienteId" ON "Vendas" (
	"ClienteId"
);
COMMIT;
